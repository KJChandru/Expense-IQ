<div *ngIf="isOpen" class="fixed inset-0 bg-black/30 flex items-center justify-center z-50">

  <div class="bg-white rounded-2xl shadow-xl w-full max-w-lg p-6 relative">
    <div class="mb-4">
      <h2 class="text-lg font-semibold text-gray-900">Create Wallet</h2>
      <p class="text-sm text-gray-500">Fill in wallet details</p>
    </div>

    <button (click)="close()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-700">
      <span class="material-icons">close</span>
    </button>


    <form [formGroup]="walletFrom" class="grid grid-cols-1 gap-4">

      <div class="flex flex-col">
        <label class="text-gray-700 font-medium mb-1">Wallet Name</label>
        <input type="text" formControlName="walletName" name="walletName" required
               placeholder="e.g., Main Bank"
               class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition">
      </div>

      <div class="flex flex-col">
        <label class="text-gray-700 font-medium mb-1">Description</label>
        <input type="text"  formControlName="walletDesc" name="walletDescription"
               placeholder="Optional description"
               class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition">
      </div>

      <div class="flex flex-col">
  <label class="text-gray-700 font-medium mb-1">Wallet Type</label>
  <div class="flex gap-2 flex-wrap">
    <button
      *ngFor="let type of walletDetails"
      type="button"
      class="px-3 py-2 border rounded-md text-sm font-medium transition-all duration-150"
      [ngClass]="{
        'bg-blue-500 text-white border-blue-500 shadow-sm': walletFrom.value.walletType === type.walletTypeid,
        'bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100': walletFrom.value.walletType !== type.walletTypeid
      }"
      (click)="walletFrom.get('walletType')?.setValue(type.walletTypeid)"
    >
      {{ type.typeDesc }}
    </button>
  </div>
</div>


      <div class="flex flex-col">
        <label class="text-gray-700 font-medium mb-1">Currency</label>
        <div class="relative">
          <select formControlName="currency" name="walletCurrency"
                  class="w-full px-4 pr-10 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-300 focus:outline-none transition bg-white appearance-none text-gray-900">
                  <div *ngFor="let currency of currencyDetails" >
            <option value={{currency.currencyId}}>{{currency.currencyCode}}</option>

                  </div>
    
          </select>
          <span class="material-icons absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">expand_more</span>
        </div>
      </div>

      <div class="flex flex-col">
        <label class="text-gray-700 font-medium mb-1">Credit Amount</label>
        <input type="number" formControlName="initalCreditedAmt" name="creditAmount" placeholder="0.00"
               class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition">
      </div>

      <!-- Submit Button -->
      <button type="submit" (click)="submitWallet()"
              class="w-full py-3 bg-gray-900 text-white font-semibold rounded-xl hover:bg-black transition">
        Create Wallet
      </button>
    </form>
  </div>
</div>